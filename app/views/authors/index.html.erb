<h1>Authors</h1>

<div class="card">
  <%= form_with url: authors_path, method: :get do |f| %>
    <div style="display: flex; gap: 10px;">
      <%= f.text_field :search, placeholder: "Search authors...", 
          value: params[:search], style: "flex: 1;" %>
      <%= f.submit "Search", class: "btn" %>
      <%= link_to "Clear", authors_path, class: "btn btn-secondary" %>
    </div>
  <% end %>
</div>

<% if librarian? %>
  <%= link_to "âž• Add New Author", new_author_path, class: "btn btn-success mb-20" %>
<% end %>

<div class="grid">
  <% @authors.each do |author| %>
    <div class="card">
      <h3><%= link_to author.name, author %></h3>
      <p><strong>Books:</strong> <%= author.books_count %></p>
      <% if author.birth_date %>
        <p><strong>Born:</strong> <%= author.birth_date.strftime("%B %d, %Y") %></p>
      <% end %>
      <%= link_to "View Details", author, class: "btn mt-10" %>
    </div>
  <% end %>
</div>

<% if @authors.empty? %>
  <div class="card">
    <p>No authors found.</p>
  </div>
<% end %>